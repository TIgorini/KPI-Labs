M1 MACRO IMM
  OR WORD PTR DS:[BX+DI+1], IMM
ENDM

M2 MACRO
  ROL AX, 1
  ROL BL, 1
ENDM

DATA SEGMENT
  V1  DB  10011B
  S1  DB  "Test"
  V2  DW  4567
  V3  DD  1598456
DATA ENDS

ASSUME  CS:CODE

CODE SEGMENT
LB1:
    MOVSW
    MOV BX, AX
    MOV AL, CL
    M2
    CMP AL, DS:[BX+DI]
    CMP CX, [BP+SI+7]
    CMP BL, BYTE PTR SS:[BX+SI]
    CMP DS:[BP+SI+7], CL
    CMP ES:[BX+DI+8], AX
    JNA LB2
LB2:
    M1  645
    OR  WORD PTR [BP+DI+5], 2054
    OR  BYTE PTR DS:[BP+SI], 11011B
    JNA LB1
    POP [BP+DI+8]
CODE ENDS
END
